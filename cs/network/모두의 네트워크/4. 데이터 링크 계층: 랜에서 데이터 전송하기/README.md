# 데이터 링크 계층
OSI 모델중 랜에서 데이터를 주고 받으려면 두 번째 계층인 데이터 링크 계층의 기술이 필요한다.  
데이터 링크 계층은 네트워크 장비 간에 신호를 주고받는 규칙을 정하는 계층이다.  
그 규칙들 중 일반적으로 가장 많이 사용되느 규칙이 이더넷이다.

# 이더넷
이더넷은 랜, 데이터 링크 계층에서 사용하는 규칙이다.  
허브와 같은 장비에 연결된 컴퓨터와 데이터를 주고 받을때 사용한다.  
여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 되어 있다.  
이더넷은 이러한 충돌을 방지하기 위해 CSMA/CD라는 방식을 사용한다.

# CSMA/CD
CSMA/CD 에서 CS는 '데이터를 보내려고하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지를 확인한다.'는 규칙이다.  
그리고 MA는 '케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다.'는 규칙이다.  
CD는 '충돌이 발생하고 있는지를 확인한다.'는 규칙이다.  
최근에는 효율이 좋지 않다는 이유로 거의 사용하지 않고 스위치를 사용한다.

# MAC 주소
랜 카드(0과 1)는 비트열을 전기 신호로 변환한다. 이러한 랜 카드에는 MAC 주소라는 번호가 있다.  
제조할 때 새겨지기 때문에 물리주소라고도 부르면 전 새계에서 유일한 번호이다.  
MAC 주소는 48비트로 16진수로 표현한다.  
그중 앞쪽 24비트는 랜카드를 만든 제조사 번호이고 뒤쪽 24비트는 제조사가 랜카드에 붙인 일련 번호이다. 

# 이더넷 헤더와 트레일러
OSI 모델이나 TCP/IP 모델에서 각 계층에서 헤더를 붙이는데 OSI 모델에서는 데이터링크 계층에 해당하고 TCP/IP 모델에서는
네트워크 계층에 해당한다. 이 계층에서 이더넷 헤더와 트렐일러를 붙인다.
1. 목적지의 MAC 주소(6바이트)
2. 출발지 MAC 주소(6바이트)
3. 타입(2바이트)

이렇게 총 14바이트로 구성되어 있다.

# 이더넷 헤더의 타입
|유형번호 | 프로토콜 |
|:---:|:----:|
|0800| IPv4 |
|0806| ARP |
|8035| RARP |
|814C| SNMP |
|86DD| IPv6 |
유형 번호를 기억할 필요는 없지만 프로토콜 종류를 식별하는 번호가 들어간다는 내용은 기억해야함. -> 이것을 FCS라고 한다.

# 스위치
스위치는 데이터 링크 계층에서 동작하고 레이어 2 스위치 또는 스위칭 허브라고도 불린다.  
스위치 내부에는 MAC 주소 테이블이라는 것이 있다.  
MAC 주소 테이블은 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC주소가 등록된느 데이터베이스이다.  
스위치의 전원을 켠 상태에서는 MAC 주소 테이블에 아무런 정보도 없다.  
컴퓨터에서 MAC 주소가 추가 된 프레임이라는 데이터가 전송되면 MAC 주소 테이블을 확인하고 MAC 주소가 등록되어 있지 않으면 MAC 주솔르 포트와 함께 등록한다.  
이를 MAC 주소 학습 기능이라고 한다.  
하지만 최초 전송시점에는 목적지의 MAC 주소가 등록되어 있지 않기 때문에 스위치는 모든 포트에 프레임을 전송한다. 이러한 전송을 플러딩이라고 한다.  
MAC 주소 기준으로 목적지를 선택하는 것을 MAC 주소 필터링이라고 한다.

# 전이중 통신과 반이중 통신
전이중 통신은 데이터의 송수신을 동시에 통신하는 방식이도 반이중 통신 방식은 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식이다.  
전이중 통신은 데이터를 동시에 전송해도 충돌이 발생하지 않지만 반이중 통신은 데이터를 동시에 전송하면 충돌이 발생한다.  
허브를 사용하면 반이중 통신이 되고 스위치를 사용하면 전이중 통신이 된다.
최근에는 허브를 사용하지 않고 스위치를 사용한다.

# 충돌 도메인
허브는 반이중 통신 방식으로 동시에 데이터를 전송하면 충돌이 생기는데 그 영향이 미치는 범위를 충돌 도메인이라고한다.  

# 이더넷 규격
|     규격     |    속도    |      케이블 종류      |최대 길이| 표준화연도 |
|:----------:|:--------:|:----------------:|:---:|:-----:|
|  10BASE5   |  10Mbps  |     동축 케이블     |500m| 1982  |
|  10BASE2   |  10Mbps  |      동축 케이블      |185m| 1988  |
|  10BASE-T  |  10Mbps  | UTP 케이블(Cat3a이상) |100m| 1990  |
| 100BASE-TX | 100Mbps  | UTP 케이블(Cat5a이상) |100m| 1995  |
| 1000BASE-T | 1000Mbps | UTP 케이블(Cat5a이상) |100m| 1999  |
| 10GBASE-T  |  10Gbps  | UTP 케이블(Cat6a이상) |220m| 2006  |

- 10 = 통신속도
- BASE*(BASEBAND) = 전송 방식
- T = 케이블 종류




# 정리
- 이더넷은 랜에서 데이터를 정상적으로 주고받기 위한 규칙이다.
- 이더넷은 데이터 충돌을 막기 위한 규칙으로 CSMA/CS 방식을 사용한다.
- MAC 주소는 48비트 숫자로 구성되어 있고 앞쪽 24비트는 랜 카드를 만든 제조사의 번호고 뒤쪽 24비트는 제조사가 랜 카드에 붙인 일련번호이다.
- 이더넷 헤더는 목적지 MAC주소(6바이트), 출발지 MAC 주소(6바이트), 타입(2바이트)로 구성되어 있다.  
- 데이터 링크 계층에서 데이터 뒤에 추가하는것을 트레일러라고한다.
- 스위치는 데이터 링크 계층에서 동작하며 레이어2 스위치 또는 스위칭 허브라고 불린다.
- 스위치에는 MAC 주소 테이블이 있다.
- MAC 주소 테이블은 스위치의 포트 번호와 그 포트에 연결되어 있는 컴퓨터 MAC 주소가 등록된 데이터베이스이다.  
- 스위치가 수신 포트 이외의 모든 포트에서 데이터를 송신하는 것을 플러딩이라고 한다.
- 스위치에서 MAC 주소를 기준으로 목적지를 선택하는 것을 MAC 주소 필터링이라고 한다.
- 전이중 통신 방식은 데이터의 송수신을 동시에 수행, 반이중 통신 방식은 회선 한 개로 송신과 수신을 번갈아 가며 수행하는 통신 방식이다.
- 데이터 충돌이 발생하고 그 충돌 영향이 미치는 범위를 충돌 도메인이라고 한다.