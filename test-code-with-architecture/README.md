# 레이어드 아키텍처의 문제점과 해결책
## h2
데이터베이스를 사용하면 중형 테스트가 된다. -> 소형 테스트가 없다.  
1. 설계가 잘못되었을 확률
2. 지금 작성한 테스트가 실제로 테스트가 필요한 본질이 아닌 확률
3. 만약 elasticsearch로 같이 embeded db를 지원 안해준다면 테스트할 수 없다.

## 단점1-> DB 주도 설계.  
계층형 아키텍처는 데이터베이스 주도 설계를 유도한다. 모든 것이 영속성 계층을 토대로 만들어진다.
## 단점 2 -> 동시 작업
모든 것이 영속성 계층 취에 만들어지기 때문에 영속성 계층 -> 서비스 -> 웹 계층 때문에 특정 기능은 동시에 한 명의 개발자만 작업할 수 있다.
## 단점3 -> 도메인이 죽는다.
계층형 아키텍처는 업무 도메인에 대해 아무것도 말해주지 않는다.

위와 같은 단점으로 인해 개발자는 절차지향적 사고를 하게 된다.  
그 결과 낮은 Testability와 SOLID를 안 지키며 개발하게 되는 일이 발생한다.